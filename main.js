(()=>{"use strict";async function e(e){const r=t(new Date),c=new Date;c.setDate(c.getDate()+5);const i=`https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/${e}/${r}/${t(c)}?unitGroup=metric&include=days%2Ccurrent&key=R7BYG2ZJK7JJDLMPD3NCB6D7T&contentType=json`;try{const e=await fetch(i,{mode:"cors"});e.ok||console.error("Failed to fetch weather data: ",e.status);const t=await e.json();document.querySelector(".error-message").style.display="none",function(e){document.querySelector(".city-name").textContent=e.resolvedAddress,document.querySelector(".today-date").textContent=`Today, ${(new Date).getHours()}:${(new Date).getMinutes()}`,document.querySelector(".temperature").textContent=`${Math.trunc(e.currentConditions.temp)}°C`,document.querySelector(".weather-description").textContent=e.currentConditions.conditions,document.querySelector(".today-icon-img").src=`./images/${e.currentConditions.icon}.png`,document.querySelector(".wind-info").textContent=`${e.currentConditions.windspeed} km/h`,document.querySelector(".visibility-info").textContent=`${Math.trunc(e.currentConditions.visibility)} km`,document.querySelector(".mintemp-info").textContent=`${Math.trunc(e.days[0].tempmin)}°C`,document.querySelector(".maxtemp-info").textContent=`${Math.trunc(e.days[0].tempmax)}°C`,document.querySelector(".sunrise-info").textContent=o(e.currentConditions.sunrise),document.querySelector(".sunset-info").textContent=o(e.currentConditions.sunset)}(t),function(e){for(let t=1;t<=5;t++){const o=document.getElementById(`day${t}`);o.innerHTML="";const r=n(t),c=document.createElement("div");c.classList.add("week-day-name"),c.textContent=r,o.appendChild(c);const i=document.createElement("img");i.classList.add("week-day-icon"),i.src=`./images/${e.days[t].icon}.png`,o.appendChild(i);const s=Math.trunc(e.days[t].tempmin),a=Math.trunc(e.days[t].tempmax),u=document.createElement("div");u.classList.add("week-day-temp"),u.textContent=`${s}°C / ${a}°C`,o.appendChild(u)}}(t)}catch(e){console.error("Error fetching weather data: ",e.message),document.querySelector(".error-message").style.display="block"}}function t(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function n(e){let t=new Date;return t.setDate(t.getDate()+e),t.toLocaleString("en-US",{weekday:"long"})}function o(e){const[t,n]=e.split(":");return`${t}:${n}`}document.querySelector(".search-city-button").addEventListener("click",(t=>{const n=document.querySelector(".city-input").value;n&&e(n),t.preventDefault()})),e("New York")})();